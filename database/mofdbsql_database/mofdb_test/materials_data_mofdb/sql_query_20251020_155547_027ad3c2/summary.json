{
  "filters": {
    "sql": "WITH adsorbate_performance AS (\n            SELECT \n                m.id, m.name, m.database,\n                a.name as adsorbate_name,\n                AVG(isd.adsorption) as avg_adsorption,\n                COUNT(*) as data_points\n            FROM mofs m\n            JOIN isotherms i ON m.id = i.mof_id\n            JOIN isotherm_data id ON i.id = id.isotherm_id\n            JOIN isotherm_species_data isd ON id.id = isd.isotherm_data_id\n            JOIN adsorbates a ON isd.adsorbate_id = a.id\n            WHERE i.temperature = 298\n            GROUP BY m.id, m.name, m.database, a.name\n            HAVING COUNT(*) >= 3\n        ),\n        multi_adsorbate_mofs AS (\n            SELECT id, name, database, COUNT(*) as adsorbate_count\n            FROM adsorbate_performance\n            GROUP BY id, name, database\n            HAVING COUNT(*) >= 2\n        ),\n        selectivity_matrix AS (\n            SELECT \n                m.id, m.name, m.database, m.adsorbate_count,\n                GROUP_CONCAT(a.adsorbate_name || ':' || ROUND(a.avg_adsorption, 2)) as adsorption_profile,\n                MAX(a.avg_adsorption) as max_adsorption,\n                MIN(a.avg_adsorption) as min_adsorption,\n                (MAX(a.avg_adsorption) - MIN(a.avg_adsorption)) as adsorption_range,\n                (MAX(a.avg_adsorption) / MIN(a.avg_adsorption)) as selectivity_ratio\n            FROM multi_adsorbate_mofs m\n            JOIN adsorbate_performance a ON m.id = a.id\n            GROUP BY m.id, m.name, m.database, m.adsorbate_count\n        )\n        SELECT \n            name, database, adsorbate_count, adsorption_profile,\n            max_adsorption, min_adsorption, adsorption_range, selectivity_ratio\n        FROM selectivity_matrix\n        WHERE min_adsorption > 0\n        ORDER BY selectivity_ratio DESC LIMIT 10",
    "n_results": 10
  },
  "n_found": 10,
  "formats": [
    "cif",
    "json"
  ],
  "output_dir": "materials_data_mofdb/sql_query_20251020_155547_027ad3c2",
  "warnings": []
}