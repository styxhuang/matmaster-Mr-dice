{
  "filters": {
    "sql": "WITH heat_analysis AS (\n            SELECT \n                m.id, m.name, m.database, m.surface_area_m2g,\n                AVG(hd.total_adsorption) as avg_heat_adsorption,\n                COUNT(hd.id) as heat_data_points\n            FROM mofs m\n            JOIN heats h ON m.id = h.mof_id\n            JOIN heat_data hd ON h.id = hd.heat_id\n            WHERE m.surface_area_m2g IS NOT NULL\n            GROUP BY m.id, m.name, m.database, m.surface_area_m2g\n            HAVING COUNT(hd.id) >= 5\n        ),\n        correlation_stats AS (\n            SELECT \n                AVG(surface_area_m2g) as avg_sa,\n                AVG(avg_heat_adsorption) as avg_heat,\n                MIN(surface_area_m2g) as min_sa,\n                MAX(surface_area_m2g) as max_sa,\n                MIN(avg_heat_adsorption) as min_heat,\n                MAX(avg_heat_adsorption) as max_heat\n            FROM heat_analysis\n        )\n        SELECT \n            h.name, h.database, h.surface_area_m2g, h.avg_heat_adsorption, h.heat_data_points,\n            ABS(h.surface_area_m2g - c.avg_sa) / (c.max_sa - c.min_sa) as sa_normalized_diff,\n            ABS(h.avg_heat_adsorption - c.avg_heat) / (c.max_heat - c.min_heat) as heat_normalized_diff\n        FROM heat_analysis h\n        CROSS JOIN correlation_stats c\n        WHERE ABS(h.surface_area_m2g - c.avg_sa) / (c.max_sa - c.min_sa) > 0.5 \n           OR ABS(h.avg_heat_adsorption - c.avg_heat) / (c.max_heat - c.min_heat) > 0.5\n        ORDER BY (ABS(h.surface_area_m2g - c.avg_sa) / (c.max_sa - c.min_sa) + ABS(h.avg_heat_adsorption - c.avg_heat) / (c.max_heat - c.min_heat)) DESC LIMIT 10",
    "n_results": 10
  },
  "n_found": 10,
  "formats": [
    "cif",
    "json"
  ],
  "output_dir": "materials_data_mofdb/sql_query_20251010_234602_bfe21a6d",
  "warnings": []
}